<div id="legacy_os_recordListing">
  <span>
    Total number of records: <%= "#{@total}" %>
  </span>

  <div class="flex flex-nowrap justify-center">
    <div class="fixed_header_container">
      <table class="fixed_header">
        <thead>
          <tr>
          <th scope="col">Actions</th>
          <th scope="col"><%= sort_link(@q, :owner_username, 'Owner username') %></th>
          <th scope="col">Owner full name</th>
          <th scope="col"><%= sort_link(@q, :dept, 'Dept') %></th>
          <th scope="col">Phone</th>
          <th scope="col">Additional dept contact</th>
          <th scope="col">Additional dept contact phone</th>
          <th scope="col">Support poc</th>
          <th scope="col"><%= sort_link(@q, :legacy_os, 'Legacy os') %></th>
          <th scope="col">Unique app</th>
          <th scope="col">Unique hardware</th>
          <th scope="col"><%= sort_link(@q, :unique_date, 'Unique date') %></th>
          <th scope="col">Remediation</th>
          <th scope="col"><%= sort_link(@q, :exception_approval_date, 'Exception approval date') %></th>
          <th scope="col"><%= sort_link(@q, :review_date, 'Review date') %></th>
          <th scope="col">Review contact</th>
          <th scope="col">Justification</th>
          <th scope="col">Local it support group</th>
          <th scope="col">Notes</th>
          <th scope="col"><%= sort_link(@q, :data_type_id, 'Data type', default_order: :desc) %></th>
          <th scope="col">Device</th>
          </tr>
        </thead>

        <tbody>
          <% @legacy_os_records.each do |legacy_os_record| %>
            <tr>
              <td>
              <ul>
                <li><%= link_to 'Show', legacy_os_record, class: "action-link" %></li>
                <% if has_ad_access?(current_user, "legacy_os_records", "newedit_action") %>
                <li><%= link_to 'Edit', edit_legacy_os_record_path(legacy_os_record), class: "action-link" %></li>
                <% end %>
                <% if has_ad_access?(current_user, "legacy_os_records", "archive_action") %>
                <li><%= link_to 'Archive', archive_legacy_os_record_path(legacy_os_record), class: "action-link", method: :post, data: { confirm: 'Are you sure?' } %></li>
                <% end %>
                <% if has_ad_access?(current_user, "legacy_os_records", "audit_action") %>
                <li><%= link_to 'Audit', legacy_os_record_audit_log_path(legacy_os_record), class: "action-link" %></li>
                <% end %>
              </ul>
              </td>
              <td><%= legacy_os_record.owner_username %></td>
              <td><%= legacy_os_record.owner_full_name %></td>
              <td><%= legacy_os_record.dept %></td>
              <td><%= legacy_os_record.phone %></td>
              <td><%= legacy_os_record.additional_dept_contact %></td>
              <td><%= legacy_os_record.additional_dept_contact_phone %></td>
              <td><%= legacy_os_record.support_poc %></td>
              <td><%= legacy_os_record.legacy_os %></td>
              <td><%= legacy_os_record.unique_app %></td>
              <td><%= legacy_os_record.unique_hardware %></td>
              <td><%= show_date(legacy_os_record.unique_date) %></td>
              <td><%= legacy_os_record.remediation %></td>
              <td><%= show_date(legacy_os_record.exception_approval_date) %></td>
              <td><%= show_date(legacy_os_record.review_date) %></td>
              <td><%= legacy_os_record.review_contact %></td>
              <td><%= legacy_os_record.justification %></td>
              <td><%= legacy_os_record.local_it_support_group %></td>
              <td><%= legacy_os_record.notes %></td>
              <td><%= show_data_type_name(legacy_os_record) %></td>
              <td><%= show_device(legacy_os_record) %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>